{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/Status/Status.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/Status/StatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["FormControl","input","meta","touched","error","children","hasError","className","s","formControl","absoluteNote","Textarea","props","restProps","child","Input","createField","name","type","placeholder","validator","component","style","additionalComponent","validate","module","exports","required","value","maxLengthCreator","maxLength","length","Post","item","src","alt","userName","user","id","post","message","MyPosts","React","memo","console","log","postsList","posts","map","p","postsWrapper","AddPostFormRedux","onSubmit","values","addPost","newPostText","maxLength200","reduxForm","form","newPostForm","handleSubmit","Field","MyPostsContainer","connect","state","profilePage","dispatch","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","StatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","statusText","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profileInfo","username","profile","fullName","photos","large","Ava","friendsBtn","contacts","vk","instagram","github","facebook","twitter","website","youtube","mainLink","Profile","ProfileContainer","userid","this","match","params","myId","getProfile","getStatus","isAuth","to","Component","compose","auth","withRouter"],"mappings":"sQAGMA,EAAc,SAAC,GAA0D,EAAxDC,MAAyD,IAAD,IAAjDC,KAAOC,EAA0C,EAA1CA,QAASC,EAAiC,EAAjCA,MAAQC,EAAyB,EAAzBA,SAC5CC,GADqE,2CAC1DH,GAAWC,GAC5B,OACI,sBAAKG,UAAWC,IAAEC,YAAc,IAAMD,IAAEJ,MAAxC,UACI,qBAAKG,UAAWC,IAAEE,aAAlB,SACKJ,GAAY,+BAAOF,MAEvBC,MAKAM,EAAW,SAACC,GACrB,IAAQX,EAAqCW,EAArCX,MAAuBY,GAAcD,EAA9BV,KAA8BU,EAAxBE,MAArB,YAA6CF,EAA7C,2BACA,OAAO,cAACZ,EAAD,2BAAiBY,GAAjB,aAAwB,oDAAeX,GAAWY,QAGhDE,EAAQ,SAACH,GAClB,IAAQX,EAAqCW,EAArCX,MAAuBY,GAAcD,EAA9BV,KAA8BU,EAAxBE,MAArB,YAA6CF,EAA7C,2BACA,OAAO,cAACZ,EAAD,2BAAiBY,GAAjB,aAAwB,iDAAYX,GAAWY,QAG7CG,EAAc,SAACC,EAAMC,EAAMC,EAAaC,EAAWC,EAAWC,EAAOC,GAAvD,OACvB,sBAAKhB,UAAWe,EAAhB,UACI,cAAC,IAAD,CACIL,KAAMA,EACNC,KAAMA,EACNC,YAAaA,EACbK,SAAUJ,EACVC,UAAWA,IAEdE,O,oBCjCTE,EAAOC,QAAU,CAAC,YAAc,mCAAmC,aAAe,oCAAoC,MAAQ,+B,iCCD9H,oEAAO,IAAMC,EAAW,SAAAC,GACpB,IAAGA,EACH,MAAO,qGAGEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAGA,EAAMG,OAASD,EAAW,MAAM,6GAAN,OAA+BA,EAA/B,wD,oBCLjCL,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,aAAe,8BAA8B,YAAc,+B,oBCA7ED,EAAOC,QAAU,CAAC,KAAO,mBAAmB,SAAW,uBAAuB,KAAO,qB,oBCArFD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,SAAW,8BAA8B,IAAM,yBAAyB,WAAa,gCAAgC,OAAS,8B,oBCA/LD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,gLCYhDM,EAVF,SAACpB,GACV,OACI,sBAAKL,UAAWC,IAAEyB,KAAlB,UACI,qBAAKC,IAAI,0BAA0BC,IAAI,QACvC,qBAAK5B,UAAWC,IAAE4B,SAAlB,mBAAgCxB,EAAMyB,MAAtC,OAA6CzB,EAAM0B,MACnD,qBAAK/B,UAAWC,IAAE+B,KAAlB,SAAyB3B,EAAM4B,c,oCCDrCC,EAAUC,IAAMC,MAAK,SAAA/B,GACvBgC,QAAQC,IAAI,kBACZ,IAAIC,EAAYlC,EAAMmC,MACjBC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAiBX,GAAIW,EAAEX,GAAID,KAAMY,EAAEZ,KAAMG,QAASS,EAAET,SAAzCS,EAAEX,OAM3B,OACI,sBAAK/B,UAAWC,IAAE0C,aAAlB,UACI,cAACC,EAAD,CAAkBC,SANT,SAACC,GACdzC,EAAM0C,QAAQD,EAAOE,gBAMhBT,QAKPU,EAAe3B,YAAiB,KAehCsB,EAAmBM,YAAU,CAAEC,KAAM,0BAAlBD,EAbL,SAAC7C,GACjB,OACI,uBAAML,UAAWC,IAAEmD,YAAaP,SAAUxC,EAAMgD,aAAhD,UACI,cAACC,EAAA,EAAD,CACIxC,UAAWV,IACXM,KAAM,cACNO,SAAU,CAACG,IAAU6B,GACrBrC,YAAa,qJACjB,oHAOGsB,ICrBAqB,EAFUC,aAdH,SAACC,GACnB,MAAO,CACHjB,MAAOiB,EAAMC,YAAYlB,MACzBQ,YAAaS,EAAMC,YAAYV,gBAGd,SAACW,GACtB,MAAO,CACHZ,QAAS,SAACC,GACNW,EAASZ,YAAQC,QAKJQ,CAA6CtB,G,8BCdvD,SAAS0B,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGpD,QAETyC,GAAKM,EAAK5C,SAAWsC,GAH8CO,GAAK,IAK9E,MAAOS,GACPR,GAAK,EACLC,EAAKO,EACL,QACA,IACOT,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAiB,EAAA,GAA2BlB,EAAKC,IGLjF,WACb,MAAM,IAAIkB,UAAU,6IHIgF,G,sBIsCvFC,EAxCS,SAAC5E,GAErB,QAA8B6E,oBAAS,GAAvC,GAAKC,EAAL,KAAeC,EAAf,KACA,IAA0BF,mBAAS7E,EAAMgF,QAAzC,GAAKA,EAAL,KAAaC,EAAb,KAEAC,qBAAU,WACND,EAAUjF,EAAMgF,UACjB,CAAChF,EAAMgF,SAaV,OAAO,mCACH,sBAAKrF,UAAWC,IAAEoF,OAAlB,WACMF,GAAY,qBACVnF,UAAWC,IAAEuF,WACbC,cAfa,WACrBL,GAAY,IAYM,SAGZ/E,EAAMgF,QAAU,oFAEjBF,GACG,uBACIO,SAbO,SAACC,GACpBL,EAAUK,EAAEC,cAAcvE,QAadA,MAAOgE,EACPrF,UAAWC,IAAEuF,WACbK,WAAW,EACXC,OArBW,WACvBV,GAAY,GACZ/E,EAAM0F,aAAaV,YCMZW,EAnBK,SAAC3F,GACjB,OACI,sBAAKL,UAAWC,IAAEgG,YAAlB,UACI,oBAAIjG,UAAWC,IAAEiG,SAAjB,SAA4B7F,EAAM8F,QAAQC,WAC1C,cAAC,EAAD,CAAiBf,OAAQhF,EAAMgF,OAAQU,aAAc1F,EAAM0F,eAC3D,qBAAKpE,IAAmC,MAA9BtB,EAAM8F,QAAQE,OAAOC,MAAgBjG,EAAM8F,QAAQE,OAAOC,MAAQ,4BAA6B1E,IAAI,MAAM5B,UAAWC,IAAEsG,MAChI,wBAAQvG,UAAWC,IAAEuG,WAArB,0GACA,iDAAUnG,EAAM8F,QAAQM,SAASC,MACjC,8CAAiBrG,EAAM8F,QAAQM,SAASE,aACxC,2CAActG,EAAM8F,QAAQM,SAASG,UACrC,6CAAgBvG,EAAM8F,QAAQM,SAASI,YACvC,4CAAexG,EAAM8F,QAAQM,SAASK,WACtC,4CAAezG,EAAM8F,QAAQM,SAASM,WACtC,4CAAe1G,EAAM8F,QAAQM,SAASO,WACtC,6CAAgB3G,EAAM8F,QAAQM,SAASQ,gB,QCEpCC,EAdC,SAAC7G,GACb,OAAqB,MAAjBA,EAAM8F,QACN,sBAAKnG,UAAWC,IAAEkG,QAAlB,UACI,cAAC,EAAD,CACIA,QAAS9F,EAAM8F,QACfd,OAAQhF,EAAMgF,OACdU,aAAc1F,EAAM0F,eAExB,cAAC,EAAD,CAAkB/F,UAAWC,IAAEuC,WAGhC,cAAC,IAAD,K,eCVL2E,E,uKAEF,WACI,IAAIC,EAASC,KAAKhH,MAAMiH,MAAMC,OAAOH,OAChCA,IACDA,EAASC,KAAKhH,MAAMmH,MAExBH,KAAKhH,MAAMoH,WAAWL,GACtBC,KAAKhH,MAAMqH,UAAUN,K,oBAEzB,WACI,OAAKC,KAAKhH,MAAMsH,OACT,mCACH,cAAC,EAAD,2BACQN,KAAKhH,OADb,IAEI8F,QAASkB,KAAKhH,MAAM8F,QACpBd,OAAQgC,KAAKhH,MAAMgF,OACnBU,aAAcsB,KAAKhH,MAAM0F,kBANF,cAAC,IAAD,CAAU6B,GAAI,e,GAXtBzF,IAAM0F,WA8BtBC,sBACXtE,aARkB,SAACC,GAAD,MAAY,CAC9B0C,QAAS1C,EAAMC,YAAYyC,QAC3Bd,OAAQ5B,EAAMC,YAAY2B,OAC1BmC,KAAM/D,EAAMsE,KAAKhG,GACjB4F,OAAQlE,EAAMsE,KAAKJ,UAIM,CAAEF,eAAYC,cAAW3B,mBAClDiC,IAFWF,CAGbX","file":"static/js/4.9c54eab2.chunk.js","sourcesContent":["import s from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, children, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.formControl + \" \" + s.error}>\r\n            <div className={s.absoluteNote}>\r\n                {hasError && <span>{error}</span>}\r\n            </div>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea  {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input  {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (name, type, placeholder, validator, component, style, additionalComponent) => (\r\n    <div className={style}>\r\n        <Field\r\n            name={name}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            validate={validator}\r\n            component={component}\r\n        />\r\n        {additionalComponent}\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2g2UO\",\"absoluteNote\":\"FormsControls_absoluteNote__J9h8j\",\"error\":\"FormsControls_error__3XU8k\"};","export const required = value => {\r\n    if(value) return undefined;\r\n    return 'Обязательное поле';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Максимальная длина - ${maxLength} символов`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2qHXX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsWrapper\":\"MyPosts_postsWrapper__3F6T_\",\"newPostForm\":\"MyPosts_newPostForm__1S60J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2XlFC\",\"userName\":\"Post_userName__WmVkg\",\"post\":\"Post_post__UD-ee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__1SWXu\",\"username\":\"ProfileInfo_username__1Hfif\",\"Ava\":\"ProfileInfo_Ava__33BVv\",\"friendsBtn\":\"ProfileInfo_friendsBtn__3p6qV\",\"status\":\"ProfileInfo_status__3Vs9r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__3u08Y\",\"statusText\":\"Status_statusText__2gRNn\"};","import React from 'react'\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='/avatar_placeholder.png' alt='ava' />\r\n            <div className={s.userName}>{`${props.user}${props.id}`}</div>\r\n            <div className={s.post}>{props.message}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react'\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = React.memo(props => {\r\n    console.log('Render MyPosts')\r\n    let postsList = props.posts\r\n        .map(p => <Post key={p.id} id={p.id} user={p.user} message={p.message} />);\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsWrapper}>\r\n            <AddPostFormRedux onSubmit={addNewPost} />\r\n            {postsList}\r\n        </div>\r\n    );\r\n})\r\n\r\nconst maxLength200 = maxLengthCreator(200);\r\n\r\nconst AddPostForm = (props) => {\r\n    return (\r\n        <form className={s.newPostForm} onSubmit={props.handleSubmit}>\r\n            <Field\r\n                component={Textarea}\r\n                name={'newPostText'}\r\n                validate={[required, maxLength200]}\r\n                placeholder={'Введите текст вашего поста...'} />\r\n            <button>Опубликовать</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({ form: 'profileAddPostFormForm' })(AddPostForm)\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPost } from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPost(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState } from 'react';\r\nimport s from './Status.module.css';\r\n\r\nconst StatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return <>\r\n        <div className={s.status}>\r\n            {!editMode && <div\r\n                className={s.statusText}\r\n                onDoubleClick={activateEditMode}\r\n            >{props.status || 'Введите статус'}</div>\r\n            }\r\n            {editMode &&\r\n                <input\r\n                    onChange={onStatusChange}\r\n                    value={status}\r\n                    className={s.statusText}\r\n                    autoFocus={true}\r\n                    onBlur={deactivateEditMode}\r\n                />\r\n            }\r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default StatusWithHooks;","import React from 'react'\r\nimport s from './ProfileInfo.module.css';\r\nimport StatusWithHooks from './Status/StatusWithHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div className={s.profileInfo}>\r\n            <h2 className={s.username}>{props.profile.fullName}</h2>\r\n            <StatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n            <img src={props.profile.photos.large != null ? props.profile.photos.large : \"../avatar_placeholder.png\"} alt='ava' className={s.Ava} />\r\n            <button className={s.friendsBtn}>Добавить в друзья</button>\r\n            <div>ВК: {props.profile.contacts.vk}</div>\r\n            <div>Instagram: {props.profile.contacts.instagram}</div>\r\n            <div>Github: {props.profile.contacts.github}</div>\r\n            <div>facebook: {props.profile.contacts.facebook}</div>\r\n            <div>twitter: {props.profile.contacts.twitter}</div>\r\n            <div>website: {props.profile.contacts.website}</div>\r\n            <div>youtube: {props.profile.contacts.youtube}</div>\r\n            <div>mainLink: {props.profile.contacts.mainLink}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react'\r\nimport s from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport Preloader from '../common/preloader/preloader';\r\n\r\nconst Profile = (props) => {\r\n    if (props.profile != null) return (\r\n        <div className={s.profile}>\r\n            <ProfileInfo\r\n                profile={props.profile} \r\n                status={props.status }\r\n                updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostsContainer className={s.posts} />\r\n        </div>\r\n    );\r\n    return <Preloader />\r\n}\r\n\r\nexport default Profile;","import React from 'react'\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getProfile, getStatus, updateStatus } from '../../redux/profileReducer'\r\nimport { Redirect, withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userid = this.props.match.params.userid;\r\n        if (!userid) {\r\n            userid = this.props.myId;\r\n        }\r\n        this.props.getProfile(userid);\r\n        this.props.getStatus(userid);\r\n    }\r\n    render() {\r\n        if (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n        return <>\r\n            <Profile\r\n                {...this.props}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                updateStatus={this.props.updateStatus}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    myId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfile, getStatus, updateStatus }),\r\n    withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}