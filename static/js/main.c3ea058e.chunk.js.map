{"version":3,"sources":["reportWebVitals.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Footer/Footer.jsx","redux/appReducer.js","hoc/WithSuspense.js","App.js","redux/reduxStore.js","index.js","redux/authReducer.js","redux/fetchReducer.js","components/common/preloader/preloader.jsx","components/common/preloader/preloader.module.css","redux/profileReducer.js","redux/dialogsReducer.js","components/Header/Header.module.css","utils/objectHelpers/objectHelpers.js","redux/usersReducer.js","components/Footer/Footer.module.css","API/api.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","className","s","header","isAuth","nav","item","to","navlink","activeClassName","active","loginWrapper","myId","myLogin","onClick","logout","HeaderContainer","this","React","Component","connect","state","auth","id","login","myEmail","email","Footer","footer","INIT_SUCCESS","initialState","initialized","appReducer","action","type","withSuspense","Suspense","fallback","LoginContainer","lazy","ProfileContainer","UsersContainer","DialogsContainer","App","initApp","path","render","compose","withRouter","app","dispatch","promise","getAuthUserData","Promise","all","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","fetchAnim","fetchReducer","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","SET_USER_DATA","SET_CAPTCHA_URL","TOGGLE_CAPTCHA","captchaUrl","needCaptcha","setAuthUserData","payload","toggleCaptcha","getCaptchaUrl","a","authAPI","me","response","data","resultCode","password","rememberMe","captcha","responseCaptcha","url","message","messages","length","stopSubmit","_error","getCaptcha","console","log","TOGGLE_IS_FETCHING","isFetching","toggleIsFetching","Preloader","rollerWrapper","ldsRoller","loadText","module","exports","ADD_POST","SET_PROFILE","SET_STATUS","profile","status","posts","user","addPost","newPostText","setUserStatus","getProfile","userid","profileAPI","getStatus","getProfileStatus","updateStatus","Math","floor","random","SEND_MESSAGE","dialogsData","name","sendMessage","newMessageText","updateObjectInArray","items","itemid","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","followingInProgress","followSuccess","userId","unfollowSuccess","setCurrentPage","toggleFollowingProgress","requestUsers","usersAPI","getUsers","totalCount","followUnfollowFlow","apiMethod","actionCreator","follow","followUser","bind","unfollow","unfollowUser","followed","filter","axiosInstance","axios","baseURL","withCredentials","headers","get","post","delete","put"],"mappings":"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","file":"static/js/main.c3ea058e.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div>\r\n                {props.isAuth\r\n                    ? <div>\r\n                        <nav className={s.nav}>\r\n                            <div className={s.item}>\r\n                                <NavLink to='/dialogs' className={s.navlink} activeClassName={s.active}>Диалоги</NavLink>\r\n                            </div>\r\n                            <div className={s.item}>\r\n                                <NavLink to='/users' className={s.navlink} activeClassName={s.active}>Поиск людей</NavLink>\r\n                            </div>\r\n                        </nav>\r\n                        <div className={s.loginWrapper}>\r\n                            <div className={s.item}>\r\n                                <NavLink to={`/profile/${props.myId}`} className={s.navlink} activeClassName={s.active}>{props.myLogin}</NavLink>\r\n                            </div>\r\n                            <div className={s.item}>\r\n                                <NavLink to='/login' className={s.navlink} onClick={props.logout}>Выход</NavLink>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    : <div className={s.loginWrapper}>\r\n                        <div className={s.item}>\r\n                            <NavLink to='/login' className={s.navlink} activeClassName={s.active}>Вход</NavLink>\r\n                        </div>\r\n                    </div>\r\n\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/authReducer'\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <>\r\n            <Header {...this.props} />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        myId: state.auth.id,\r\n        myLogin: state.auth.login,\r\n        myEmail: state.auth.email\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)","import React from 'react';\r\nimport s from './Footer.module.css';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            Copyright (c) Ivan Suprovich, 2021\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import { getAuthUserData } from './authReducer';\r\n\r\nconst INIT_SUCCESS = 'INIT_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INIT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\n//ACTION-CREATORS\r\nexport const initSuccess = () => ({ type: INIT_SUCCESS });\r\n\r\n//THUNKS\r\nexport const initApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","import React from \"react\";\r\nimport Preloader from '../components/common/preloader/preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React from 'react';\nimport './App.css';\nimport Preloader from './components/common/preloader/preloader';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Footer from './components/Footer/Footer';\nimport { Route, withRouter } from 'react-router';\nimport { initApp } from './redux/appReducer'\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withSuspense } from './hoc/WithSuspense';\n\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initApp();\n  }\n  render() {\n    if (!this.props.initialized) return <Preloader />\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <div className='app-wrapper-content'>\n          <Route path='/login'\n            render={withSuspense(LoginContainer)} />\n          <Route path='/profile/:userid?'\n            render={withSuspense(ProfileContainer)} />\n          <Route path='/dialogs'\n            render={withSuspense(DialogsContainer)} />\n          <Route path='/users'\n            render={withSuspense(UsersContainer)} />\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initApp })\n)(App)","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport usersReducer from './usersReducer';\r\nimport fetchReducer from './fetchReducer';\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer';\r\n\r\nlet reducers = combineReducers({\r\n    app: appReducer,\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    fetchAnim: fetchReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './redux/reduxStore'\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nwindow.store = store;","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../API/api';\r\n\r\nconst SET_USER_DATA = 'my-app/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_URL = 'my-app/auth/SET_CAPTCHA_URL';\r\nconst TOGGLE_CAPTCHA = 'my-app/auth/TOGGLE_CAPTCHA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n    needCaptcha: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case TOGGLE_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                needCaptcha: action.needCaptcha\r\n            }\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\n//ACTION-CREATORS\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { id, email, login, isAuth } });\r\nexport const toggleCaptcha = (needCaptcha) => ({ type: TOGGLE_CAPTCHA, needCaptcha });\r\nexport const getCaptchaUrl = (captchaUrl) => ({ type: SET_CAPTCHA_URL, captchaUrl });\r\n\r\n//THUNKS\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    dispatch(toggleCaptcha(false));\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else if (response.data.resultCode === 10) {\r\n        let responseCaptcha = await authAPI.captcha()\r\n        dispatch(toggleCaptcha(true));\r\n        dispatch(getCaptchaUrl(responseCaptcha.data.url))\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"ОШИБКА\"\r\n        dispatch(stopSubmit('login', { _error: message }))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport const getCaptcha = () => async (dispatch) => {\r\n    let response = await authAPI.captcha()\r\n    console.log(response.data.url)\r\n    dispatch(getCaptchaUrl(response.data.url))\r\n}\r\n\r\nexport default authReducer;","const TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\n\r\nlet initialState = {\r\n    isFetching: true\r\n}\r\n\r\nconst fetchReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\n\r\nexport default fetchReducer;","import s from './preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={s.rollerWrapper}>\r\n        <div className={s.ldsRoller}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        <div className={s.loadText}>Загрузка</div>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rollerWrapper\":\"preloader_rollerWrapper__yM2eP\",\"loadText\":\"preloader_loadText__y083k\",\"ldsRoller\":\"preloader_ldsRoller__3L2F4\"};","import { toggleIsFetching } from './fetchReducer';\r\nimport { profileAPI } from '../API/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_PROFILE = 'SET_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    profile: null,\r\n    status: '',\r\n    posts: [\r\n        { id: 1, user: 'Admin', message: 'https://youtu.be/_X3dVadZp2U?t=406' }\r\n    ]\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [\r\n                    {\r\n                        id: Math.floor(Math.random() * (100000)),\r\n                        user: 'testUser',\r\n                        message: action.newPostText\r\n                    },\r\n                    ...state.posts\r\n                ]\r\n            };\r\n        }\r\n        case SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION-CREATORS\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({ type: SET_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\n//THUNKS\r\nexport const getProfile = (userid) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let response = await profileAPI.getProfile(userid)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userid) => async (dispatch) => {\r\n    let response = await profileAPI.getProfileStatus(userid)\r\n    dispatch(setUserStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Alex' },\r\n        { id: 2, name: 'Diana' },\r\n        { id: 3, name: 'Putin' },\r\n        { id: 4, name: 'Obama' }\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'https://youtu.be/MM02LsZqssQ?t=1056'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [\r\n                    ...state.messages,\r\n                    {id: Math.floor(Math.random() * (1000)),\r\n                    message: action.newMessageText}\r\n                ]\r\n            };\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION_CREATORS\r\nexport const sendMessage = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText });\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1bC-0\",\"nav\":\"Header_nav__nLvwt\",\"item\":\"Header_item__KHImd\",\"navlink\":\"Header_navlink__16w11\",\"active\":\"Header_active__3P0Xw\",\"loginWrapper\":\"Header_loginWrapper__2a5G8\"};","export const updateObjectInArray = (items, itemid, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemid) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../API/api';\r\nimport { updateObjectInArray } from '../utils/objectHelpers/objectHelpers';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 13,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ACTION-CREATORS\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\nexport const toggleFollowingProgress = (followingInProgress, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, followingInProgress, userId });\r\n\r\n//THUNKS\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let data = await apiMethod(userId)\r\n    if (data === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccess)\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1cRdM\"};","import * as axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: { 'API-KEY': '45bf7595-daa3-4596-8932-c7910484d1d2' }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    followUser(userid) {\r\n        return axiosInstance.post(`follow/${userid}`)\r\n            .then(response => response.data.resultCode);\r\n    },\r\n    unfollowUser(userid) {\r\n        return axiosInstance.delete(`follow/${userid}`)\r\n            .then(response => response.data.resultCode);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userid) {\r\n        return axiosInstance.get(`profile/${userid}`)\r\n    },\r\n    getProfileStatus(userid) {\r\n        return axiosInstance.get(`profile/status/${userid}`)\r\n    },\r\n    updateStatus(status) {\r\n        return axiosInstance.put(`profile/status`, { status })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return axiosInstance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe, captcha = false) {\r\n        return axiosInstance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return axiosInstance.delete(`auth/login`)\r\n    },\r\n    captcha() {\r\n        return axiosInstance.get(`security/get-captcha-url`)\r\n    }\r\n}"],"sourceRoot":""}